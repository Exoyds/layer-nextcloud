# How to use it

Nextcloud server will default un on port 80.

Relate this charm with either mysql or postgresql
Works with the collabora charm if you want to have
online editing of LibreOffice documents.

# Example deploy
```
juju deploy cs:~erik-lonroth/nextcloud
juju deploy postgresql --to 0:lxd
juju relate postgresql:db nextcloud:postgres
juju expose nextcloud
```

# Versions used
 * Nextcloud: See in file: apache.yaml
 * PHP: php7.2

# Prepare (configuration)

# Adding trusted_domain
Its useful for testing, to be able to add a trusted_domain to the nextcloud config.php.
This can be done with a juju action:
```
juju run-action nextcloud/0 add-trusted-domain index=4 domain="nextcloud.maas"
```
The server will now accept http://nextcloud.maas

# Initial login
http://<trusted_domain>/
username: admin
password: mypassword

Yes, you should change this.

* What domain name will the server have? - E.g. "nextcloud.example.com".
``` juju config nextcloud fqdn='nextcloud.example.com' ```

* áº‚hat version of Nextcloud to download and installed: (From: https://download.nextcloud.com/server/releases/)
```Edit: apache.yaml ```

* The layer-apache installs the site under /var/www/nextcloud
